# Ğ‘Ğ°Ğ·Ñ‹ Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ…

[MongoDb](MongoDb.md)

[ClickHouse](ClickHouse.md)

[MySQL-Doctrine](MySQL-Doctrine.md)

Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ

- [ĞšĞ°Ğº Ğ¾ÑÑƒÑ‰ĞµÑÑ‚Ğ²Ğ»ÑÑ‚ÑŒ Ğ¿Ğ¾Ğ¸ÑĞº Ğ² ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸ÑÑ… Ğ² Studio 3T for MongoDB](Ğ‘Ğ°Ğ·Ñ‹%20Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ….md)
- [ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ update MongoDb](Ğ‘Ğ°Ğ·Ñ‹%20Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ….md)
- [Criteria Ğ¸ Options](Ğ‘Ğ°Ğ·Ñ‹%20Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ….md)
- ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ MongoDb

## ĞšĞ°Ğº Ğ¾ÑÑƒÑ‰ĞµÑÑ‚Ğ²Ğ»ÑÑ‚ÑŒ Ğ¿Ğ¾Ğ¸ÑĞº Ğ² ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸ÑÑ… Ğ² Studio 3T for MongoDB[(Ğ²Ğ²ĞµÑ€Ñ…)](Ğ‘Ğ°Ğ·Ñ‹%20Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ….md)

1. Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ½ÑƒĞ¶Ğ½ÑƒÑ ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¸ Ğ½Ğ°Ğ¶Ğ°Ñ‚ÑŒ Visual Query Builder

![%D0%91%D0%B0%D0%B7%D1%8B%20%D0%94%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20daf912cba7ae42ddb0e6dd671200d7db/Untitled.png](Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°/Ğ‘Ğ°Ğ·Ñ‹%20Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ…/Untitled.png)

2. ĞŸĞµÑ€ĞµÑ‚Ğ°Ñ‰Ğ¸Ñ‚ÑŒ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑÑƒÑÑ‰ÑƒÑ Ğ½Ğ¾Ğ´Ñƒ Ğ¸Ğ· ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ğ¸ Ğ² Ğ¿Ğ¾Ğ»Ğµ Query 

![%D0%91%D0%B0%D0%B7%D1%8B%20%D0%94%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20daf912cba7ae42ddb0e6dd671200d7db/Untitled%201.png](Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°/Ğ‘Ğ°Ğ·Ñ‹%20Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ…/Untitled%201.png)

3. Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ ĞºĞ°Ğº Ğ¸ÑĞºĞ°Ñ‚ÑŒ Ğ² Ğ½ÑƒĞ¶Ğ½Ğ¾Ğ¼ ÑƒĞ·Ğ»Ğµ Ğ¸ÑĞºĞ¾Ğ¼Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ(Ğ¿Ğ¾ Ñ€Ğ°Ğ²ĞµĞ½ÑÑ‚Ğ²Ñƒ, Ğ±Ğ¾Ğ»ÑŒÑˆĞµ, Ğ¼ĞµĞ½ÑŒÑˆĞµ Ğ¸ Ñ‚.Ğ´.)

![%D0%91%D0%B0%D0%B7%D1%8B%20%D0%94%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20daf912cba7ae42ddb0e6dd671200d7db/Untitled%202.png](Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°/Ğ‘Ğ°Ğ·Ñ‹%20Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ…/Untitled%202.png)

4. Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ñ‚Ğ¸Ğ¿ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¸Ñ‰ĞµĞ¼

![%D0%91%D0%B0%D0%B7%D1%8B%20%D0%94%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20daf912cba7ae42ddb0e6dd671200d7db/Untitled%203.png](Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°/Ğ‘Ğ°Ğ·Ñ‹%20Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ…/Untitled%203.png)

5. Ğ’Ğ²Ğ¾Ğ´Ğ¸Ğ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¸Ñ‰ĞµĞ¼ Ğ¸ Ğ½Ğ°Ğ¶Ğ¸Ğ¼Ğ°ĞµĞ¼ Run

![%D0%91%D0%B0%D0%B7%D1%8B%20%D0%94%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20daf912cba7ae42ddb0e6dd671200d7db/Untitled%204.png](Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°/Ğ‘Ğ°Ğ·Ñ‹%20Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ…/Untitled%204.png)

6. Ğ’ Ğ¸Ñ‚Ğ¾Ğ³Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ½ÑƒĞ¶Ğ½Ñ‹Ğ¹ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚

![%D0%91%D0%B0%D0%B7%D1%8B%20%D0%94%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20daf912cba7ae42ddb0e6dd671200d7db/Untitled%205.png](Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°/Ğ‘Ğ°Ğ·Ñ‹%20Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ…/Untitled%205.png)

7. ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ¸ÑĞºĞ°Ñ‚ÑŒ Ğ¿Ğ¾ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ğ¼ Ğ¿Ğ¾Ğ»ÑĞ¼ ÑÑ€Ğ°Ğ·Ñƒ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ğ¾Ğ¸ÑĞº Ğ±Ñ‹Ğ» Ğ±Ğ¾Ğ»ĞµĞµ ÑƒĞ·ĞºĞ¸Ğ¼, Ğ¿ĞµÑ€ĞµÑ‚Ğ°Ñ‰Ğ¸Ğ² Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ÑƒĞ·ĞµĞ» Ğ² Ğ¿Ğ¾Ğ»Ğµ Query, Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ² Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¸ Ğ½Ğ°Ğ¶Ğ°Ğ² Run

![%D0%91%D0%B0%D0%B7%D1%8B%20%D0%94%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20daf912cba7ae42ddb0e6dd671200d7db/Untitled%206.png](Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°/Ğ‘Ğ°Ğ·Ñ‹%20Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ…/Untitled%206.png)

# ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ update MongoDb[(Ğ²Ğ²ĞµÑ€Ñ…)](Ğ‘Ğ°Ğ·Ñ‹%20Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ….md)

```jsx
MongoDBSvc::getInstance(BotPresetNode::COLLECTION_NAME)->update(
  [
     '_id' => $node->_id,
  ],
  [
     '$set' => [
        'botPresetId' => $botPreset->_id
     ]
  ]
);
```

```jsx
MongoDBSvc::getInstance(self::COLLECTION_NAME)->update(
  [
     '_id' => $node->getId()
  ],
  $node->bsonSerialize(),
  [
     'upsert' => true
  ]
);
```

<aside>
ğŸ“ MongoDBSvc::getInstance(self::COLLECTION_NAME)->update(
  [
     'Difficulty' => $difficulty
  ],
  [
     'Difficulty' => $difficulty,
     'Chance' => $chance
  ],
  [
     'upsert' => true
  ]
);

</aside>

# Criteria Ğ¸ Options[(Ğ²Ğ²ĞµÑ€Ñ…)](Ğ‘Ğ°Ğ·Ñ‹%20Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ….md)

```jsx
find($criteria, $fields, $offset, $limit, $inArray, $options)

$criteria,
            [
                '_id'  => true,
                'aid'  => true,
                'Info' => true
            ]

$options = ['sort' => 
['_id' => 1]
]

$fields = [
                '_id'  => true,
                'aid'  => true,
                'Info' => true
            ]
```

$offset = ÑÑ‚Ğ°Ñ€Ñ‚Ğ¾Ğ²Ğ°Ñ Ğ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ğ½Ğ°(int)

$limit = Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ĞºĞ¾Ğ»-Ğ²Ğ¾ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²(int)

```php
public static function find(array $criteria, array $fields, int $offset, int $limit, bool $inArray=false, array $options=[]){
		if( $limit >=0  ) {
			$options['limit'] = $limit;
		}
		if( $offset >=0  ) {
			$options['skip'] = $offset;
		}
		$courses = MongoDBSvc::getInstance (self::COLLECTION_NAME)->find(
			$criteria,
			$fields,
			$options
		);
```

```jsx
$options = [â€˜sortâ€™ => [ â€˜_idâ€™ => 1]]
```

```jsx
MongoDBSvc::getInstance(...)->find(...)
MongoDBSvc::getInstance(self::COLLECTION_NAME, self::DSN_NAME)->find($criteria,$fields, $options);
```

ĞĞ´Ğ¸Ğ½ ÑĞ¿Ğ¾ÑĞ¾Ğ± Ğ·Ğ°Ğ´Ğ°Ñ‚ÑŒ ĞºÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹

```jsx
$criteria = [
  'tid' => ObjectID $tid

];
```

Ğ”Ñ€ÑƒĞ³Ğ¾Ğ¹ ÑĞ¿Ğ¾ÑĞ¾Ğ±

```jsx
$criteria =  [
  $fieldSearch,
  'type' => 'RagFair',
];
```